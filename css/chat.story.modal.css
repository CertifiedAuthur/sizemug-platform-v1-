/* Chat Page Story Modal */
/* Keep explore layout/sizing, but use a black backdrop in chat. */

#storyModalContainer.story_modal_container {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: #34405480;
  z-index: 99999999999;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Match explore sizing (do not center/override children layout). */
#storyModalContainer .story_modal-contents {
  position: relative;
  display: flex;
  height: 100vh;
  width: 100vw;
}

/* Black background while viewing status (story content area). */
#storyModalContainer .story_modal-contents .story__view {
  position: relative;
  height: 100%;
  flex-grow: 1;
  overflow: hidden;
  background: #1c2430;
}

/* Story display + card sizing (copied from explore page behavior). */
#storyModalContainer .story_modal-contents .story__view .story_display {
  display: flex;
  height: 100%;
  align-items: center;
  justify-content: center;
}

#storyModalContainer .story_modal-contents .story__view .story__load {
  position: relative;
  height: 685px;
  width: 47%;
  overflow: hidden;
  vertical-align: middle;
  border-radius: 12px;
}

/* Navigation arrows (hover-only) - same as explore page. */
#storyModalContainer .story_modal-contents .story__view .previous_story_media {
  position: absolute;
  top: 0px;
  left: 0px;
  height: 100%;
  width: 25%;
  cursor: pointer;
  background-color: rgba(0, 0, 0, 0);
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding-left: 20px;
  z-index: 100;
}

#storyModalContainer .story_modal-contents .story__view .previous_story_media::before {
  content: '';
  width: 40px;
  height: 40px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(10px);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='white' d='m14 18l-6-6l6-6l1.4 1.4l-4.6 4.6l4.6 4.6z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 24px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

#storyModalContainer .story_modal-contents .story__view .previous_story_media:hover::before {
  opacity: 1;
}

#storyModalContainer .story_modal-contents .story__view .next_story_media {
  position: absolute;
  top: 0px;
  right: 0px;
  height: 100%;
  width: 25%;
  cursor: pointer;
  background-color: rgba(0, 0, 0, 0);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding-right: 20px;
  z-index: 100;
}

#storyModalContainer .story_modal-contents .story__view .next_story_media::before {
  content: '';
  width: 40px;
  height: 40px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(10px);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='white' d='M12.6 12L8 7.4L9.4 6l6 6l-6 6L8 16.6z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 24px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

#storyModalContainer .story_modal-contents .story__view .next_story_media:hover::before {
  opacity: 1;
}

/* Hide modal when chat-hidden class is present */
#storyModalContainer.chat-hidden {
  display: none;
}

/* Hide the Add Story item inside the modal story list (chat.html only) */
#storyModalContainer:not(.chat-hidden) li.story-list-item.add_new_story#addNewStoryFromStoryDisplay,
#storyModalContainer:not(.chat-hidden) li.story-list-item.add_new_story#addNewStory,
#storyModalContainer .view_story-list li.add_new_story#addNewStoryFromStoryDisplay,
#storyModalContainer .view_story-list li.add_new_story#addNewStory,
#storyModalContainer #addNewStoryFromStoryDisplay.add_new_story,
#storyModalContainer #addNewStory.add_new_story {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Chat-only: hide the injected "No more Stories to Show / Find Friends" tile */
#storyModalContainer #viewStoryList li.no-story,
#storyModalContainer #viewStoryList .no-story {
  display: none !important;
}
