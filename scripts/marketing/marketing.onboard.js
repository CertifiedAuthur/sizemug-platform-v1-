const marketingOnboardContainer = document.getElementById("marketing_onboarding--welcome");
const onboardStatus = JSON.parse(localStorage.getItem("sizemug_marketing") ?? "false");

if (!onboardStatus) {
  marketingOnboardContainer.classList.remove(HIDDEN);
} else {
  marketingOnboardContainer.classList.add(HIDDEN);
}

// Continue Event
const continueMarketing = document.getElementById("marketing--continue");
const mobileCancelWelcome = document.getElementById("mobile_hide_welcome");

[mobileCancelWelcome, continueMarketing].forEach((btn) => {
  btn.onclick = () => {
    marketingOnboardContainer.classList.add(HIDDEN);
    localStorage.setItem("sizemug_marketing", "true");
  };
});

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
const collapseSidebarTrigger = document.getElementById("collapseSidebarTrigger");
const asideMarketplaceCategory = document.getElementById("asideMarketplaceCategory");

collapseSidebarTrigger.addEventListener("click", function () {
  const isExpanded = this.getAttribute("aria-expanded") === "true";

  if (isExpanded) {
    this.setAttribute("aria-expanded", false);
    asideMarketplaceCategory.classList.add(HIDDEN);
  } else {
    this.setAttribute("aria-expanded", true);
    asideMarketplaceCategory.classList.remove(HIDDEN);
  }
});
